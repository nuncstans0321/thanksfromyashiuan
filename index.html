<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>äºç’‡çš„ç¥ç¦æ´¾é€ v9</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700;900&family=Pacifico&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0f1117;
  --panel:#171a22;
  --panel2:#1d2230;
  --text:#f6f7fb;
  --muted:#c9ccda;
  --gold:#f5d36c;
  --electric:#ffd54a;
  --blue:#7ec3ff;
  --pink:#ff90c2;
  --green:#6ee7a8;
  --warm:#ff8a7a;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1100px 600px at 100% -20%, #27334e 0%, transparent 60%),
    radial-gradient(900px 500px at -10% 120%, #2a2240 0%, transparent 60%),
    var(--bg);
  color:var(--text);
  font-family:"Noto Sans TC", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
}
.container{max-width:980px;margin:24px auto;padding:16px}
/* ===== Banner ===== */
.banner{
  position:relative;
  padding:14px 16px;
  border-radius:16px;
  background:linear-gradient(135deg, rgba(245,211,108,.16), rgba(255,255,255,.03));
  border:1px solid rgba(245,211,108,.35);
  box-shadow:0 8px 24px rgba(245,211,108,.12), inset 0 0 40px rgba(245,211,108,.05);
  text-align:center;
  font-weight:900;
  letter-spacing:.2px;
  font-size:clamp(16px,2.6vw,22px);
}
.banner .sig{font-family:"Pacifico", cursive; color:var(--gold); margin-left:8px}
.sparkle{
  position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(2px 2px at 12% 30%, #fff8 25%, transparent 30%),
    radial-gradient(1.5px 1.5px at 78% 60%, #fff8 25%, transparent 35%),
    radial-gradient(1.5px 1.5px at 40% 82%, #fff8 25%, transparent 35%),
    radial-gradient(1.2px 1.2px at 64% 18%, #fff8 25%, transparent 35%);
  animation: twinkle 2.2s infinite linear;
}
@keyframes twinkle{50%{opacity:.35} 100%{opacity:1}}

/* ===== Grid ===== */
.grid{margin-top:18px; display:grid; grid-template-columns:repeat(2,1fr); gap:14px}
@media (max-width:720px){ .grid{grid-template-columns:1fr; gap:12px} }

.card{
  position:relative;
  background:linear-gradient(180deg, var(--panel), var(--panel2));
  border:1px solid #2a3144;
  border-radius:18px;
  padding:16px;
  overflow:hidden;
  box-shadow:0 8px 26px rgba(0,0,0,.28);
  transition:transform .25s ease, box-shadow .25s ease;
  min-height:200px;
}
.card:hover{ transform:translateY(-2px); box-shadow:0 10px 30px rgba(0,0,0,.34) }
.card h3{margin:0 0 8px 0; font-size:18px}
.card p.sub{margin:.25rem 0 .75rem 0; color:var(--muted); font-size:14px}
.card .media{
  position:absolute; right:-10px; bottom:-10px; width:180px; opacity:.2; pointer-events:none; filter:drop-shadow(0 6px 16px rgba(0,0,0,.45));
}
.btn-strip{display:flex; gap:8px; flex-wrap:wrap}
.btn{
  font-size:12.5px; border-radius:999px; padding:6px 10px; border:1px solid #2b3550; background:#202534; color:#cfd3e5;
}
.badge{
  position:absolute; top:10px; right:10px;
  padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px;
  background:linear-gradient(135deg, #fff2 0%, transparent 60%); border:1px solid #3a445f;
}
.toast{
  position:fixed; left:50%; bottom:26px; transform:translateX(-50%);
  background:#1e2433; border:1px solid #334063; color:#e8ebff;
  padding:8px 12px; border-radius:10px; opacity:0; pointer-events:none;
  transition:opacity .25s ease, transform .25s ease;
  z-index:50;
}
.toast.show{opacity:1; transform:translateX(-50%) translateY(-6px)}
.particles{position:absolute; inset:0; pointer-events:none}

/* Energy specific */
.energy .barWrap{position:relative; height:12px; background:#0f1220; border:1px solid #2f3a5d; border-radius:999px; overflow:hidden; margin-top:10px}
.energy .bar{height:100%; width:0%; background:linear-gradient(90deg, #5146ff, var(--electric)); box-shadow:0 0 18px rgba(255,213,74,.5) inset; transition:width 1.2s ease}
.energy.glow{ box-shadow:0 0 0 0 rgba(255,213,74,.55), inset 0 0 40px rgba(255,213,74,.12) }
.energy .fullTag{
  position:absolute; top:8px; right:8px; background:#2a233f; border:1px solid #5a4bb3;
  color:#ffe; padding:6px 10px; border-radius:999px; font-size:12px; display:none;
}

/* Weather specific */
.weather .sky{ font-size:46px; user-select:none }
.weather .stamp{ position:absolute; bottom:12px; right:12px; padding:6px 10px; border:2px dashed #7ec3ff; border-radius:8px; color:#7ec3ff; font-weight:800; opacity:0; transform:scale(.9); transition: .4s ease}

/* Bouquet specific */
.bouquet .face{ font-size:40px; user-select:none }
.bouquet .shield{ position:absolute; right:12px; bottom:12px; background:#24352a; border:1px solid #3e6b4f; color:#bff5cf; padding:6px 10px; border-radius:10px; opacity:0; transform:translateY(6px); transition:.35s ease}

/* Gift specific */
.gift .box{ width:120px; height:78px; background:linear-gradient(180deg,#7a1f19,#6a1712); border:2px solid #a93b2f; border-radius:10px; position:relative; margin-top:8px}
.gift .lid{ position:absolute; width:130px; height:22px; background:linear-gradient(180deg,#c44a3c,#a83e33); border:2px solid #a93b2f; border-bottom:none; border-radius:12px 12px 6px 6px; top:-20px; left:-5px; transform-origin:left center; transition:.35s ease }
.gift.open .lid{ transform:rotate(-22deg) translateY(-6px) }
.gift .ribbon{ position:absolute; width:12px; height:100%; left:50%; top:0; transform:translateX(-50%); background:linear-gradient(180deg,#ffd54a,#f9b84a)}
.gift .burst{ position:absolute; left:50%; top:-30px; transform:translateX(-50%); font-size:28px; opacity:0; transition:.35s ease }
.gift.open .burst{ opacity:1; transform:translateX(-50%) translateY(-6px) }
.gift .note{
  position:absolute; left:50%; top:-50px; transform:translateX(-50%);
  background:#fff; color:#333; padding:6px 10px; border-radius:8px; font-size:12px; font-weight:700;
  box-shadow:0 6px 18px rgba(0,0,0,.35); opacity:0; transition:.25s ease;
}

/* Particles */
.dot{ position:absolute; width:6px; height:6px; border-radius:50%; background:radial-gradient(#fff, transparent); opacity:.9; animation: fly .8s ease-out forwards}
@keyframes fly{ to{ transform:translate(var(--tx), var(--ty)); opacity:0 } }
</style>
</head>
<body>
  <div class="container">
    <div class="banner">
      äºç’‡çš„ç¥ç¦æ´¾é€ä¸­ï¼Œä»»é¸ä¸€ä»½ä»Šæ—¥ Buffï¼Œé»ä¸€ä¸‹é ˜å– âœ¨
      <span class="sig">Yashiuan</span>
      <div class="sparkle"></div>
    </div>

    <div class="grid">
      <!-- A. Energy -->
      <section class="card energy" id="card-energy" aria-label="èƒ½é‡ç“¶">
        <span class="badge">é›»é»ƒ âš¡ï¸</span>
        <h3>ä»Šå¤©é›»é‡ä¸è¶³ï¼Ÿå……é›»ç«™å•Ÿå‹• âš¡ï¸</h3>
        <p class="sub">è¼•é»ä¸€ä¸‹ï¼Œå¹«ä½ å›å……ç²¾ç¥èˆ‡å¥½å¿ƒæƒ…ã€‚</p>
        <img class="media" src="slot1.png" alt="èƒ½é‡ç“¶"/>
        <div class="barWrap" aria-hidden="true"><div class="bar"></div></div>
        <div class="fullTag">æ»¿æ ¼ï¼</div>
        <div class="particles"></div>
      </section>

      <!-- B. Weather -->
      <section class="card weather" id="card-weather" aria-label="å¤©æ°£ Buff">
        <span class="badge">å¤©è— â˜€ï¸</span>
        <h3>å¤©æ°£ç³»çµ±é€£ç·šä¸­â€¦ä»Šæ—¥æ™´æœ—æŒ‡æ•¸æå‡ï¼Œå¿ƒæƒ…æ”¾æ™´ï¼ ğŸŒˆ</h3>
        <p class="sub">ä¸è«–æ™´é›¨ï¼Œé¡˜ä½ è™•è™•é †å¿ƒã€‚</p>
        <img class="media" src="slot2.png" alt="å¤©æ°£åœ–"/>
        <div class="sky" aria-live="polite">ğŸŒ¥ï¸</div>
        <div class="stamp">+1 é †åˆ©</div>
        <div class="particles"></div>
      </section>

      <!-- C. Bouquet -->
      <section class="card bouquet" id="card-bouquet" aria-label="èŠ±æŸ">
        <span class="badge">ç²‰ç´…ï¼‹ç¶  ğŸ’</span>
        <h3>é€ä½ ä¸€æŸä»Šæ—¥çš„å¥½é‹ ğŸ’</h3>
        <p class="sub">æŠŠå¥½é‹ç¶æˆä¸€æŸï¼Œçªç™¼ç‹€æ³é˜²è­·ç½© ON ğŸ€ã€‚</p>
        <img class="media" src="slot3.png" alt="èŠ±æŸ"/>
        <div class="face">âœ¨</div>
        <div class="shield">ğŸ€ æŠµç¦¦çªç™¼</div>
        <div class="particles"></div>
      </section>

      <!-- D. Gift -->
      <section class="card gift" id="card-gift" aria-label="æ„Ÿè¬ç¦®ç‰©">
        <span class="badge">é‡‘ï¼‹æš–ç´… ğŸ</span>
        <h3>é€™ä»½å°ç¦®ç‰©ï¼Œè£è‘—è¬åˆ†æ„Ÿè¬ âœ¨â¤ï¸</h3>
        <p class="sub">è¬è¬ä½ ï¼Œé¡˜å¥½äº‹ä¸æ–·ç™¼ç”Ÿã€‚</p>
        <img class="media" src="slot4.png" alt="ç¦®ç‰©"/>
        <div class="box">
          <div class="lid"></div>
          <div class="ribbon"></div>
          <div class="burst">âœ¨ğŸ’–âœ¨</div>
          <div class="note" id="gift-note">åšçš“å­¸é•·ï¼Œè¬è¬ä½ ï¼</div>
        </div>
        <div class="particles"></div>
      </section>
    </div>
  </div>

  <div class="toast" id="toast"></div>

<script>
const toast = (msg, ms=1200) => {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  window.clearTimeout(t._h);
  t._h = setTimeout(()=>t.classList.remove('show'), ms);
};

const burstParticles = (root, n=12) => {
  const holder = root.querySelector('.particles');
  if(!holder) return;
  for(let i=0;i<n;i++){
    const d=document.createElement('div');
    d.className='dot';
    const tx = (Math.random()*120-60) + 'px';
    const ty = (-Math.random()*90-30) + 'px';
    d.style.setProperty('--tx', tx);
    d.style.setProperty('--ty', ty);
    d.style.left = (root.clientWidth/2) + 'px';
    d.style.top = (root.clientHeight/2) + 'px';
    holder.appendChild(d);
    setTimeout(()=>d.remove(), 900);
  }
};

// A. Energy
(() => {
  const card = document.getElementById('card-energy');
  const bar = card.querySelector('.bar');
  const tag = card.querySelector('.fullTag');
  let clicks = 0;
  card.addEventListener('click', () => {
    clicks++;
    bar.style.width = '100%';
    card.classList.add('glow');
    setTimeout(()=>{
      bar.style.width = '0%';
      card.classList.remove('glow');
    }, 1100);
    if(clicks % 3 === 0){
      tag.style.display='inline-block';
      burstParticles(card, 10);
      toast('å·²è£œæ»¿ï¼Œå‡ºç™¼å§ï¼', 1200);
      setTimeout(()=>tag.style.display='none', 900);
    }
  });
})();

// B. Weather
(() => {
  const card = document.getElementById('card-weather');
  const sky = card.querySelector('.sky');
  const stamp = card.querySelector('.stamp');
  const states = ['ğŸŒ¥ï¸','â˜€ï¸','ğŸŒˆ'];
  let i=0;
  card.addEventListener('click', () => {
    i = (i+1) % states.length;
    sky.textContent = states[i];
    stamp.style.opacity=1; stamp.style.transform='scale(1)';
    setTimeout(()=>{ stamp.style.opacity=0; stamp.style.transform='scale(.9)' }, 800);
    if(states[i]==='ğŸŒˆ') burstParticles(card, 12);
  });
})();

// C. Bouquet
(() => {
  const card = document.getElementById('card-bouquet');
  const face = card.querySelector('.face');
  const shield = card.querySelector('.shield');
  const variants = [
    {emo:'ğŸ’ª', label:'å…ƒæ°£'},
    {emo:'ğŸ«¶', label:'æº«æŸ”'},
    {emo:'ğŸŒŸ', label:'é–ƒäº®'}
  ];
  let idx = -1, clicks = 0;
  card.addEventListener('click', () => {
    clicks++;
    if(clicks % 3 === 0){
      idx = (idx+1) % variants.length;
      const v = variants[idx];
      face.textContent = v.emo;
      toast('èŠ±æŸå‡ç´šï¼š' + v.label, 1200);
      shield.style.opacity=1; shield.style.transform='translateY(0)';
      burstParticles(card, 8);
      setTimeout(()=>{ shield.style.opacity=0; shield.style.transform='translateY(6px)' }, 900);
    }
  });
})();

// D. Gift
(() => {
  const card = document.getElementById('card-gift');
  const note = document.getElementById('gift-note');
  let opened = false, showedNote=false;
  card.addEventListener('click', () => {
    opened = !opened;
    card.classList.toggle('open', opened);
    if(opened){
      burstParticles(card, 14);
    }else if(!showedNote){
      showedNote = true;
      note.style.opacity=1; note.style.top='-64px';
      setTimeout(()=>{ note.style.opacity=0; note.style.top='-50px' }, 600);
    }
  });
})();

</script>
</body>
</html>
