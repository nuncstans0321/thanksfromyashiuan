<!doctype html>
<html lang="zh-Hant">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Minimal Video (Debug)</title>
<style>
  html,body{height:100%;margin:0;background:#fff8ec;display:flex;align-items:center;justify-content:center}
  .wrap{width:min(980px,96vw);height:min(700px,94svh);background:#fffef9;border-radius:18px;
        box-shadow:0 20px 60px rgba(0,0,0,.14),0 6px 18px rgba(0,0,0,.07);
        display:grid;grid-template-rows:1fr auto;overflow:hidden}
  video{width:100%;height:100%;object-fit:contain;background:#000}
  #log{font:12px/1.4 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; padding:8px 10px; background:#111; color:#0f0; margin:0}
</style>
<div class="wrap">
  <video id="v" playsinline webkit-playsinline muted autoplay controls poster="poster.png">
    <source src="envelope_open.mp4" type="video/mp4">
    您的瀏覽器不支援影片。
  </video>
  <pre id="log">log…</pre>
</div>
<script>
  const v=document.getElementById('v');
  const log=document.getElementById('log');
  function L(){ log.textContent += '\\n' + Array.from(arguments).join(' '); log.scrollTop = log.scrollHeight; }
  ['loadstart','loadedmetadata','loadeddata','canplay','canplaythrough','play','playing','pause','ended','stalled','suspend','waiting','seeking','seeked','timeupdate','volumechange','ratechange','error','emptied','abort'].forEach(ev=>{
    v.addEventListener(ev, ()=>L('event:', ev));
  });
  v.addEventListener('error', ()=>{
    const e=v.error; if(!e) return;
    L('video.error code=', e.code, '(1:ABORTED, 2:NETWORK, 3:DECODE, 4:SRC_NOT_SUPPORTED)');
  });
  v.play().then(()=>L('play(): ok')).catch(err=>L('play(): rejected ->', (err && err.name)||'', (err && err.message)||'' ));
  v.addEventListener('click', ()=> v.play().then(()=>L('click->play ok')).catch(err=>L('click->play fail', err && err.message)));
</script>
