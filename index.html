<!DOCTYPE html><html lang="zh-Hant"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>ÊÑüË¨ùÂç° ‚Äî v9.4.15</title>
<style>
:root{--r:22px;--gap:12px;--hud-zoom:1.18}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans TC",Arial,sans-serif;background:#0e0e10;color:#1f2328;display:flex;align-items:center;justify-content:center;overflow:hidden}
.stage{width:min(980px,96vw);height:min(780px,96svh)}@supports not (height:1svh){.stage{height:min(780px,96vh)}}
.card{position:relative;width:100%;height:100%;background:#f2f3f5;border-radius:22px;overflow:hidden;box-shadow:0 28px 60px rgba(0,0,0,.25),0 8px 18px rgba(0,0,0,.12),inset 0 0 0 1px rgba(0,0,0,.08)}
.page{position:absolute;inset:0;padding:20px;display:grid;place-items:center;opacity:0;transform:translateY(8px);transition:.3s}
.page.active{opacity:1;transform:none}
#p1,#p2,#p4{padding:0}
#p3{display:block;overflow:auto;-webkit-overflow-scrolling:touch;padding:12px}
.vbox{position:relative;width:100%;height:100%;background:#000;border-radius:22px;overflow:hidden;display:flex;align-items:center;justify-content:center}
.vbox video{width:100%;height:100%;object-fit:contain;background:#000;display:block}
.next{position:fixed;right:calc(2vw + 8px);bottom:calc(2vh + 8px);padding:.7rem 1.05rem;border-radius:999px;border:1px solid #0002;background:#ffd24a;font-weight:800;z-index:60;display:none}
.next.show{display:inline-block}
.p2ribbon{position:absolute;top:10px;left:50%;transform:translateX(-50%);background:#fff;border:1px solid #f2c94c;border-radius:12px;padding:6px 10px;font-weight:800;z-index:2;white-space:nowrap;max-width:95%;overflow:hidden;text-overflow:ellipsis}
/* p3 */
.gridArea{height:100%;display:grid;grid-template-rows:auto 1fr;gap:var(--gap)}
.banner{display:grid;justify-items:center;align-items:center;background:#fff7d9;border:1px solid #f2c94c;border-radius:12px;padding:10px 14px;font-weight:900;line-height:1.35}
.banner span{display:block}
.gridHold{position:relative}
.grid4{position:absolute;inset:0;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);gap:var(--gap);z-index:1}
.badge{background:#fff;border:1px solid #0001;border-radius:14px;padding:8px;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.06);outline:0;touch-action:manipulation;display:grid;grid-template-rows:1fr;min-height:0}
.thumb{width:100%;height:100%;border-radius:10px;overflow:hidden;background:#fff;display:grid;place-items:center}
.thumb img{width:100%;height:100%;object-fit:contain;display:block}
/* Sheet */
.sheet{position:fixed;left:0;right:0;bottom:0;transform:translateY(105%);transition:transform .28s ease;z-index:120;display:grid;justify-items:center}
.sheet.show{transform:translateY(0)}
.sheet .scrim{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(2px);}
.sheet .panel{position:relative;width:min(720px,96vw);max-height:72svh;background:#fff;border-radius:18px 18px 0 0;box-shadow:0 -18px 48px rgba(0,0,0,.35);padding:16px 18px 18px;display:grid;grid-template-rows:auto 1fr auto;gap:10px}
@media (min-width:720px){.sheet .panel{border-radius:18px;max-height:82svh;margin-bottom:4vh}}
.sheet h3{margin:0 0 6px 0;font-size:20px}
.sheet p{margin:0;color:#555}
.play{position:relative;background:#0f1220;border-radius:12px;display:grid;place-items:center;min-height:300px;overflow:hidden}
.play .bg{position:absolute;inset:0;background-size:cover;background-position:center;opacity:.28;filter:blur(2px)}
.play .content{position:relative;padding:16px;color:#fff;display:grid;gap:16px;justify-items:center;z-index:4;text-shadow:0 1px 4px rgba(0,0,0,.45)}
.hint{font-size:14px;opacity:.95;text-align:center;writing-mode:horizontal-tb;white-space:normal;word-break:keep-all;width:100%}
.sheet .actions{display:flex;justify-content:center}
.sheet .btn{border:1px solid #0002;background:#ffd24a;border-radius:999px;padding:.6rem 1.0rem;font-weight:800;cursor:pointer}
/* Battery HUD ‚Äî ÊîæÂ§ßÔºãÁΩÆ‰∏≠ */
.hud{position:absolute;inset:2% 4% 12% 4%;display:none;place-items:center;pointer-events:none;z-index:3;text-align:center;padding:10px}
.hud .wrap{width:100%;max-width:820px;display:grid;justify-items:center;gap:12px;transform:scale(var(--hud-zoom));transform-origin:center}
.hud img{width:auto;max-width:96%;max-height:90%;object-fit:contain;display:block;filter:drop-shadow(0 16px 36px rgba(0,0,0,.55))}
.battery{display:grid;gap:12px;justify-items:center;width:min(620px,96%);filter:drop-shadow(0 8px 20px rgba(0,0,0,.45))}
.b-cell{width:100%;aspect-ratio:2.4/1;border:6px solid #9bd2ff;border-radius:16px;position:relative;background:rgba(0,0,0,.3);overflow:hidden}
.b-cell:after{content:"";position:absolute;right:-18px;top:calc(50% - 18px);width:18px;height:36px;background:#9bd2ff;border-radius:4px}
.b-fill{position:absolute;left:0;top:0;bottom:0;width:0;background:linear-gradient(90deg,#1ee3ff,#7cffc9);box-shadow:inset 0 0 10px rgba(255,255,255,.35);transition:width .6s;border-right:4px solid rgba(255,255,255,.6)}
.b-label{font-weight:900;font-size:clamp(18px,3.6vw,28px);color:#d7f6ff;text-shadow:0 2px 6px rgba(0,0,0,.35);writing-mode:horizontal-tb;white-space:normal;word-break:keep-all;max-width:96%}
/* Gift */
.giftWrap{position:relative;display:grid;place-items:center;padding-top:64px}
.giftImg{width:min(380px,82%);max-width:82%;height:auto;border-radius:12px;box-shadow:0 10px 28px rgba(0,0,0,.45)}
.giftGlow{animation:glow 1s ease-out}
@keyframes glow{0%{filter:brightness(1)}50%{filter:brightness(1.35)}100%{filter:brightness(1)}}
.giftNote{position:absolute;left:50%;top:10px;transform:translateX(-50%);background:#fff;color:#333;padding:6px 10px;border-radius:8px;font-size:12px;font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,.35);opacity:0;transition:.25s;z-index:3}
/* Finale overlay */
.finalOverlay{position:absolute;inset:0;display:none;align-items:center;justify-content:center;background:radial-gradient(62% 60% at 50% 58%, rgba(0,0,0,.55), rgba(0,0,0,.15));backdrop-filter:blur(1.5px);z-index:70}
.finalOverlay.show{display:flex}
.finalWrap{display:grid;gap:14px;justify-items:center;text-align:center;padding:12px 16px}
.finalWrap .jp{color:#fff;font-weight:900;font-size:clamp(22px,6vw,44px);text-shadow:0 3px 18px rgba(0,0,0,.6),0 1px 0 rgba(0,0,0,.25)}
.finalBtns{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.finalBtns .btn{border:1px solid #0002;background:rgba(255,210,74,.96);border-radius:999px;padding:.6rem 1.0rem;font-weight:800;box-shadow:0 8px 20px rgba(0,0,0,.25);cursor:pointer}
.finalBtns .ghost{background:rgba(255,255,255,.92)}
/* Particles & toast (Áï•) */
.petal,.ray,.confetti,.sparkle{position:absolute;pointer-events:none;opacity:0;animation-fill-mode:forwards}
@keyframes petalFall{0%{transform:translateY(-10px) rotate(0);opacity:0}10%{opacity:1}100%{transform:translateY(120px) rotate(260deg);opacity:0}}
@keyframes sp{from{transform:translateY(0) scale(.9);opacity:0}10%{opacity:1}to{transform:translateY(-18px) scale(1.1);opacity:0}}
.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#1e2433;border:1px solid #334063;color:#e8ebff;padding:8px 12px;border-radius:10px;opacity:0;transition:.25s;pointer-events:none;z-index:140}
.toast.show{opacity:1;transform:translateX(-50%) translateY(-6px)}
</style>
</head><body>
<div class="stage"><div class="card">
  <section class="page active" id="p1"><div class="vbox"><video id="vIntro" playsinline webkit-playsinline muted preload="auto" poster="poster.png"><source id="sIntro" src="envelope_open.mp4" type="video/mp4"></video></div><button class="next" id="n1">‰∏ã‰∏ÄÈ†Å</button></section>
  <section class="page" id="p2"><div class="vbox"><div class="p2ribbon" id="ribbon">Áµ¶ÂçöÁöìÂ≠∏Èï∑ ÔΩû by 62 ÊúüÂ≠∏Âì°‰∫ûÁíá</div><video id="vAscii" playsinline webkit-playsinline muted preload="auto" loop><source id="sAscii" src="ascii_anim.mp4" type="video/mp4"></video></div><button class="next show" id="n2">‰∏ã‰∏ÄÈ†Å</button></section>
  <section class="page" id="p3">
    <div class="gridArea">
      <div class="banner"><span>‰∫ûÁíáÁöÑÁ•ùÁ¶èÊ¥æÈÄÅ‰∏≠Ôºå</span><span>‰ªªÈÅ∏‰∏Ä‰ªΩ‰ªäÊó• BuffÔºåÈªû‰∏Ä‰∏ãÈ†òÂèñ ‚ú®</span></div>
      <div class="gridHold"><div class="grid4" id="grid4">
        <div class="badge" id="b1"><div class="thumb"><img src="slot1.png" alt="ËÉΩÈáèÁì∂"></div></div>
        <div class="badge" id="b2"><div class="thumb"><img src="slot2.png" alt="Ëä±Êùü"></div></div>
        <div class="badge" id="b3"><div class="thumb"><img src="slot3.png" alt="Â•ΩÂ§©Ê∞£"></div></div>
        <div class="badge" id="b4"><div class="thumb"><img src="slot4.png" alt="Á¶ÆÁâ©"></div></div>
      </div></div>
    </div>
    <button class="next show" id="n3">‰∏ã‰∏ÄÈ†Å</button>
  </section>
  <section class="page" id="p4"><div class="vbox" id="finalBox"><video id="vFinale" playsinline webkit-playsinline muted preload="auto"><source id="sFinale" src="finale.mp4" type="video/mp4"></video>
    <div class="finalOverlay" id="finalOverlay"><div class="finalWrap"><div class="jp">„ÅÇ„Çä„Åå„Å®„ÅÜ</div><div class="finalBtns"><button class="btn" id="btnReplay">‚ü≤ ÈáçÈ†≠ÈñãÂßã</button><button class="btn ghost" id="btnCopy">üîó Ë§áË£ΩÈÄ£Áµê</button></div></div></div>
  </div></section>
</div></div>

<div class="sheet" id="sheet"><div class="scrim"></div><div class="panel">
  <div><h3 id="sTitle"></h3><p id="sSub"></p></div>
  <div class="play"><div class="bg" id="sBg"></div><div class="content" id="sContent"></div></div>
  <div class="actions"><button class="btn" id="sClose">‚ú® pikaÔΩû ÈóúÈñâ</button></div>
</div></div>
<div class="toast" id="toast"></div>

<script>
(function(){
  const $=s=>document.querySelector(s), t=$("#toast");
  const bust=Date.now().toString(36);
  ["#sIntro","#sAscii","#sFinale"].forEach(sel=>{const el=$(sel); if(el) el.src=el.getAttribute("src")+"?v="+bust;});
  document.querySelectorAll("img").forEach(img=>{const s=img.getAttribute("src"); if(s) img.src=s+(s.includes("?")?"&":"?")+"v="+bust;});
  const pages=[...document.querySelectorAll(".page")]; let idx=0;
  const show=n=>{pages[idx].classList.remove("active"); idx=Math.max(0,Math.min(pages.length-1,n)); pages[idx].classList.add("active");};
  const v1=$("#vIntro"), v2=$("#vAscii"), v3=$("#vFinale"), n1=$("#n1"), n2=$("#n2"), n3=$("#n3");
  v1.play().catch(()=>v1.setAttribute("controls","")); v1.addEventListener("ended", ()=>n1.classList.add("show"));
  n1.addEventListener("click", ()=>{ show(1); v2.play().catch(()=>v2.setAttribute("controls","")); });
  n2.addEventListener("click", ()=>show(2)); n3.addEventListener("click", ()=>{ show(3); v3.play().catch(()=>v3.setAttribute("controls","")); });

  // Bottom sheet
  const sheet=$("#sheet"), sBg=$("#sBg"), sTitle=$("#sTitle"), sSub=$("#sSub"), sContent=$("#sContent"), sClose=$("#sClose");
  function openSheet({bg,title,sub,builder}){
    sBg.style.backgroundImage="url('"+bg+"?v="+bust+"')";
    sTitle.textContent=title; sSub.textContent=sub; sContent.innerHTML=""; builder(sContent); sheet.classList.add("show");
  }
  function closeSheet(){ sheet.classList.remove("show"); }
  sClose.addEventListener("click", closeSheet); sheet.querySelector(".scrim").addEventListener("click", closeSheet);
  const on=(el,fn)=>["click","pointerup","touchend"].forEach(e=>el.addEventListener(e,(ev)=>{ev.preventDefault();ev.stopPropagation();fn();},{passive:false}));

  // ====== ËÉΩÈáèÁì∂ÔºàÊ≤øÁî® 9.4.12 Ë°åÁÇ∫ÔºåÂè™ÊîæÂ§ß HUDÔºâ ======
  const B = { available:false }; (function(){ const img=new Image(); img.onload=()=>B.available=true; img.onerror=()=>B.available=false; img.src="B.png?check="+bust; })();
  function buildBattery(box){
    const tip=document.createElement("div"); tip.className="hint"; tip.textContent="ËºïÈªûÁï´Èù¢ÂÖÖÈõª ‚Üí";
    Object.assign(tip.style,{position:"absolute",top:"8px",left:"0",right:"0",zIndex:5});
    const pbar=document.createElement("div"); pbar.className="pbar"; const fill=document.createElement("div"); fill.className="fill"; pbar.appendChild(fill);
    const hud=document.createElement("div"); hud.className="hud"; const wrap=document.createElement("div"); wrap.className="wrap"; hud.appendChild(wrap);
    box.append(tip,pbar,hud);
    let step=0, lock=false, completed=false;
    const setHUD=(percent, useImg)=>{
      wrap.innerHTML="";
      if(useImg){ const im=document.createElement("img"); im.src="B.png?v="+bust; wrap.append(im); }
      else{
        const bat=document.createElement("div"); bat.className="battery";
        const cell=document.createElement("div"); cell.className="b-cell";
        const lvl=document.createElement("div"); lvl.className="b-fill"; lvl.style.width=percent+"%";
        cell.appendChild(lvl); const lab=document.createElement("div"); lab.className="b-label"; lab.textContent="‚ö°Ô∏è "+percent+"%";
        bat.append(cell,lab); wrap.append(bat);
      }
      hud.style.display="grid";
    };
    on(box, ()=>{
      if(lock||completed) return; lock=true;
      step=(step%3)+1;
      if(step===1){ // 0‚Üí100%
        pbar.style.display="block"; requestAnimationFrame(()=>fill.style.width="100%");
        tip.textContent="ÂÜçÈªûÔºö80%"; setTimeout(()=>{ fill.style.width="0"; lock=false; }, 1000);
      }else if(step===2){ // 80%
        pbar.style.display="block"; setHUD(80,false); tip.textContent="ÊúÄÂæå‰∏Ä‰∏ãÔºöÊªøÊ†ºÔºÅ"; setTimeout(()=>{ lock=false; }, 700);
      }else{ // 100% ‚Äî Áî®ÂúñÔºå‰∏îÊîæÂ§ßÁΩÆ‰∏≠Áõ¥Âà∞ÈóúÈñâ
        pbar.style.display="none"; setHUD(100,B.available); tip.textContent="ÊªøÊ†ºÔºÅpikaÔΩûÈóúÈñâÂæåÂèØÂÜçÁé©ÔºåÊàñÊèõÂÖ∂‰ªñ Buff„ÄÇ"; completed=true; lock=false;
      }
    });
    const cleanup=()=>{completed=false;step=0;hud.style.display="none";pbar.style.display="block";fill.style.width="0";tip.textContent="ËºïÈªûÁï´Èù¢ÂÖÖÈõª ‚Üí";};
    document.getElementById("sClose").addEventListener("click", cleanup, {once:true});
    sheet.querySelector(".scrim").addEventListener("click", cleanup, {once:true});
  }
  on(document.getElementById("b1"), ()=>openSheet({
    bg:"slot1.png", title:"‰ªäÂ§©ÈõªÈáè‰∏çË∂≥ÔºüÂÖÖÈõªÁ´ôÂïüÂãï ‚ö°Ô∏è", sub:"ÊèêÁ§∫ÔºöÊØè‰∏Ä‰∏ãÈÉΩÊúâËÆäÂåñÔºåÁ¨¨‰∏â‰∏ãÊúâÂ∞èÂΩ©ËõãÔºÅ", builder:buildBattery
  }));

  // ÂÖ∂‰ªñ‰∏âÊ†ºÁ∂≠ÊåÅÂéüÈÇèËºØÔºàÁï•ÁâàÔºåË°åÁÇ∫‰∏çËÆäÔºâ
  on(document.getElementById("b2"), ()=>openSheet({
    bg:"slot2.png", title:"ÈÄÅ‰Ω†‰∏ÄÊùü‰ªäÊó•ÁöÑÂ•ΩÈÅã üíê", sub:"ÊØè‰∏Ä‰∏ãÈÉΩÊúÉÂçáÁ¥öÔºåÂÆåÊàêÂæåÂïüÂãïÈò≤Ë≠∑ÁΩ©„ÄÇ",
    builder:(box)=>{ const tip=document.createElement("div"); tip.className="hint"; tip.textContent="ËºïÈªûÁúãÁúã ‚Üí";
      const face=document.createElement("div"); face.className="face"; face.textContent="üå∏"; box.append(tip,face);
      let s=0; on(box, ()=>{ s=(s%3)+1; face.textContent=(s===1?"üíê":s===2?"üåº":"üåü"); tip.textContent=(s===3?"ÂÆåÊàêÔºÅÂèØ‰ª•ÂÜçÁé©‰∏ÄÊ¨°ÔºåÊàñÊèõÂÖ∂‰ªñ Buff„ÄÇ":"ÂÜçÈªûÈªûÁúã"); if(s===3) s=0; }); }
  }));
  on(document.getElementById("b3"), ()=>openSheet({
    bg:"slot3.png", title:"Â§©Ê∞£Á≥ªÁµ±ÈÄ£Á∑ö‰∏≠‚Ä¶‰ªäÊó•Êô¥ÊúóÊåáÊï∏ÊèêÂçáÔºåÂøÉÊÉÖÊîæÊô¥ÔºÅ üåà", sub:"‰∏çË´ñÊô¥Èõ®ÔºåÈ°ò‰Ω†ËôïËôïÈ†ÜÂøÉ„ÄÇ",
    builder:(box)=>{ const tip=document.createElement("div"); tip.className="hint"; tip.textContent="ËºïÈªûÁúãÁúãÔºàÊúÉË∂ä‰æÜË∂äÊô¥Ôºâ‚Üí";
      const face=document.createElement("div"); face.className="face"; face.textContent="üå•Ô∏è"; box.append(tip,face);
      let s=0; on(box, ()=>{ s=(s%3)+1; face.textContent=(s===1?"‚õÖ":s===2?"‚òÄÔ∏è":"üåà"); tip.textContent=(s===3?"ÊîæÊô¥ÂÆåÊàêÔºÅÂèØ‰ª•ÂÜçÁé©‰∏ÄÊ¨°ÔºåÊàñÊèõÂÖ∂‰ªñ Buff„ÄÇ":"ÂÜçÈªûÈªûÁúã"); if(s===3) s=0; }); }
  }));
  on(document.getElementById("b4"), ()=>openSheet({
    bg:"slot4.png", title:"ÈÄô‰ªΩÂ∞èÁ¶ÆÁâ©ÔºåË£ùËëóËê¨ÂàÜÊÑüË¨ù ‚ú®‚ù§Ô∏è", sub:"Èªû‰∏Ä‰∏ãÈñãÁõíÔºõÂÜçÈªû‰∏ÄÊ¨°ÔºåÂëà‰∏äÂ§ßÊÑüË¨ùÔºÅ",
    builder:(box)=>{ const tip=document.createElement("div"); tip.className="hint"; tip.textContent="ËºïÈªûÈñãÁõí ‚Üí";
      const wrap=document.createElement("div"); wrap.className="giftWrap";
      const img=document.createElement("img"); img.className="giftImg"; img.src="slot4.png?v="+bust;
      const note=document.createElement("div"); note.className="giftNote"; note.textContent="ÂçöÁöìÂ≠∏Èï∑ÔºåË¨ùË¨ù‰Ω†ÔºåËæõËã¶‰∫ÜÔºàfighting!Ôºâ"; wrap.append(img,note); box.append(tip,wrap);
      let s=0, showing=false; on(box, ()=>{ s=(s%2)+1; if(s===1){ img.classList.remove("giftGlow"); void img.offsetWidth; img.classList.add("giftGlow"); tip.textContent="ÂÜçÈªû‰∏ÄÊ¨°ÔºåÂëà‰∏äÂ§ßÊÑüË¨ùÔºÅ"; } else { if(!showing){ showing=true; note.style.opacity=1; tip.textContent="ÂÆåÊàêÔºÅÂèØ‰ª•ÈóúÈñâÊàñÊèõÂÖ∂‰ªñ BuffÔºõÂÜçÈªûÈáç‰æÜ„ÄÇ"; setTimeout(()=>{ note.style.opacity=0; showing=false; }, 2600); } } }); }
  }));

  // P3 layout
  function layoutP3(){ const p3=$("#p3"), banner=p3.querySelector(".banner"), hold=p3.querySelector(".gridHold"), grid=p3.querySelector(".grid4");
    const gap=parseFloat(getComputedStyle(grid).gap)||12, reserved=90, availH=p3.clientHeight-banner.offsetHeight-gap-reserved, availW=hold.clientWidth;
    const w=Math.floor((availW-gap)/2), hcap=Math.floor((availH-gap)/2), tile=Math.max(120,Math.min(w,hcap)); hold.style.height=(tile*2+gap)+"px"; grid.querySelectorAll(".badge").forEach(el=>el.style.height=tile+"px"); }
  addEventListener("resize", layoutP3); setTimeout(layoutP3,60);

  // Finale overlay
  const overlay=$("#finalOverlay"), btnReplay=$("#btnReplay"), btnCopy=$("#btnCopy");
  v3.addEventListener("ended", ()=>overlay.classList.add("show"));
  btnReplay.addEventListener("click", ()=>{ overlay.classList.remove("show"); show(0); n1.classList.remove("show"); v1.currentTime=0; v1.play().catch(()=>v1.setAttribute("controls","")); });
  btnCopy.addEventListener("click", async ()=>{ try{ await navigator.clipboard.writeText(location.href); toast("Â∑≤Ë§áË£ΩÈÄ£Áµê"); }catch(e){ toast("ÁÑ°Ê≥ïË§áË£ΩÔºåË´ãÊâãÂãïÈÅ∏ÂèñÁ∂≤ÂùÄ"); } });
  function toast(msg){ t.textContent=msg; t.classList.add("show"); setTimeout(()=>t.classList.remove("show"), 1300); }
})();
</script>
</body></html>